micronaut:
  server:
    cors:
      enabled: true
      configurations:
        web:
          # ⚠️ 改成你的前端域名（可多项）
          allowed-origins:
            - https://frontend.example.com
            - http://localhost:3000
          allowed-methods:
            - GET
            - POST
            - PUT
            - PATCH
            - DELETE
            - OPTIONS
          allowed-headers:
            # 回显预检时请求的 headers 已足够，但这里也可白名单
            - Content-Type
            - Authorization
            - X-Requested-With
            - Last-Event-ID        # SSE
            - Accept
          exposed-headers:
            - Content-Type
            - Cache-Control
            - Last-Event-ID        # SSE
          allow-credentials: true  # 若前端携带 cookie/凭证需要开启
          max-age: 3600

datasources:
  default:
    url: jdbc:postgresql://localhost:5432/agent
    username: postgres
    password: postgres
    driver-class-name: org.postgresql.Driver
    dialect: POSTGRES
    schema-generate: NONE
jooq:
  generator:
    database:
      name: org.jooq.meta.postgres.PostgresDatabase
      includes: .*
      excludes: ""
      input-schema: public
    target:
      package-name: org.agent.jooq
      directory: src/main/java
    generate:
      records: true
      pojos: true
      daos: false
      interfaces: false
      fluent-setters: true

# OpenAI API配置
openai:
  api:
    url: https://apis.itedus.cn/v1/
    key: sk-uw6scttcKPDJZt8DDfD0135c85A04570Ae780c5f350dDf72
    model: gpt-4o
