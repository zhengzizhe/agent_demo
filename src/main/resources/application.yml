server:
  port: 8080
  address: 0.0.0.0
spring:
  security:
    oauth2:
      client:
        registration:
          github:
            client-id: Ov23lihLudAQWpDWYXt0
            client-secret: cdff6b68cec4c23315bb3a32f2eba5af2464adc0
            client-name: GitHub
            scope:
              - read:user
              - user:email
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            authorization-grant-type: authorization_code
        provider:
          github:
            authorization-uri: https://github.com/login/oauth/authorize
            token-uri: https://github.com/login/oauth/access_token
            user-info-uri: https://api.github.com/user
            user-name-attribute: id

  datasource:
    url: jdbc:postgresql://localhost:5432/agent
    username: postgres
    password: postgres
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000

  # CORS配置
  web:
    cors:
      allowed-origins:
        - http://localhost:3000
        - http://196.168.1.229:3000
        - http://192.168.1.9:3000
      allowed-methods:
        - GET
        - POST
        - PUT
        - PATCH
        - DELETE
        - OPTIONS
      allowed-headers:
        - Content-Type
        - Authorization
        - X-Requested-With
        - Last-Event-ID
        - Accept
      exposed-headers:
        - Content-Type
        - Cache-Control
        - Last-Event-ID
      allow-credentials: true
      max-age: 3600

# MyBatis配置
mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.example.ddd.infrastructure.dao.po
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl

# OpenAI API配置
openai:
  api:
    url: https://api.bianxie.ai/v1
    key: sk-LjKtJWPQJI73Cxl3Qa373SUzshCQWaR7JBJVFMQbUnIOEEkZ
    model: gpt-4o

# Neo4j配置
neo4j:
  uri: bolt://localhost:7687
  username: neo4j
  password: neo4j123

# JWT配置
jwt:
  # JWT 密钥（至少256位，用于 HS256 算法）
  # 生产环境请使用环境变量或配置中心管理，不要硬编码
  secret: your-secret-key-should-be-at-least-256-bits-long-for-hs256-algorithm-please-change-this-in-production
  # Token 过期时间（毫秒），默认 24 小时
  expiration: 86400000
  # 刷新 Token 过期时间（毫秒），默认 7 天
  refresh-expiration: 604800000
