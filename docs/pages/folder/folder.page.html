<div class="page-main-top">
    <div class="content">
        <dl-breadcrumb [paths]="paths"></dl-breadcrumb>
    </div>
    <div class="tools">
        <dl-global-searcher></dl-global-searcher>
        <button dl-button icon="bc_huanyige" (click)="onRefresh()">刷新</button>
    </div>
</div>

<div class="control-group">
    <span></span>
    <!--    <dl-tab [items]="tabs"></dl-tab>-->

    <dl-page-btn-group [(listMode)]="listMode" [useCreateBtn]="isManager" [useDropMenuBtn]="isManager"
                       (onCreateDoc)="onCreateDoc()" (onCreateFolder)="onCreateFolder()"
                       [(isShowDropdownMenu)]="isShowOpMenu" (isShowDropdownMenuChange)="openOpMenus()" >
        <div class="dl-dropdown-menu dropdownMenu">
            @for (item of opsList; track item.id) {
                <div [class]="['dl-dropdown-menu-item', item.className]" (click)="onMenuClick(item)">
                    <i [class]="['bc_icon', item.icon]"></i>
                    <span class="dl-dropdown-menu-item__title">{{ item.label }}</span>
                </div>

                @if (item.divide) {
                    <div class="dl-dropdown-menu-divider"></div>
                }
            }
        </div>
    </dl-page-btn-group>
</div>

<folder-card-list [entityId]="folderId" [queryParams]="folderListQueryParams" [navigator]="onNavToFolder"
                  *ngIf="folderDetail" [disableOps]="folderCardDisableOps" #folderCardList>
</folder-card-list>

<file-table style="margin-top: 16px; flex: 1; overflow: hidden;" *ngIf="folderDetail"
            [singleMode]="listMode === 'list-simple'" (onNavigate)="onNavToDoc($event)"
            [queryParams]="fileTableQueryParams" (onItemsChange)="onFileTableItemsChange($event)"
            #fileTable></file-table>

